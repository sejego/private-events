<h1> Profile for user <%= @user.username %></h1>

<h3> Name: <%= @user.name %></h3>
<h3> Email: <%= @user.email %></h3>

<h3> Hosted events: </h3>

<% @user.created_events.each do |event| %>
  <p><%= event.name %> - <%= event.location %> - <%= event.event_date %></p>
  <br>
<% end %>

<h3> Upcoming events: </h3>

<% if @user.attended_events.where('event_date >=?', Date.today).any? %>
  <% @user.attended_events.where('event_date >=?', Date.today).each do |event| %>
      <p><%= event.name %> - <%= event.location %> - <%= event.event_date %></p>
      <br>
  <% end %>
<% else %>
  <p>No upcoming events</p>
<% end %>
  <br>

<h3> Attended events: </h3>

<% if @user.attended_events.where('event_date < ?', Date.today).any? %>
  <% @user.attended_events.where('event_date < ?', Date.today).each do |event| %>
      <p><%= event.name %> - <%= event.location %> - <%= event.event_date %></p>
      <br>
  <% end %>
<% else %>
  <p>No attended events</p>
<% end %>
  <br>